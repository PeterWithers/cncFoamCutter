<!DOCTYPE html>
<!--
Copyright (C) 2015 Peter Withers
-->
<!--
  @since Aug 17, 2015 8:40:10 PM (creation date)
  @author Peter Withers <peter@bambooradical.com>
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Wing Design View</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body>
        <header>Wing Design View</header>
        <span th:text="'Aerofoil: ' + ${aerofoilname}"></span>
        <br/>
        <!--<h13 th:text="'Chord: ' + ${aerofoilchord}" />-->
        <!--<br/>-->
        <form action="#" method="get">
            <table>
                <tr><td>
                        View Angle</td><td><input type="number" id="viewAngle" name="viewAngle" th:value="${viewAngle}" />
                    </td></tr><tr><td>
                        Machine Depth</td><td><input type="number" id="machineDepth" name="machineDepth" th:value="${machineData.getMachineDepth()}" />
                    </td></tr><tr><td> 
                        Machine Height</td><td><input type="number" id="machineHeight" name="machineHeight" th:value="${machineData.getMachineHeight()}" />
                    </td></tr><tr><td>
                        Wire Length</td><td><input type="number" id="wireLength" name="wireLength" th:value="${machineData.getWireLength()}" />
                    </td></tr><tr><td>
                        Initial Cut Height</td><td><input type="number" id="initialCutHeight" name="initialCutHeight" th:value="${initialCutHeight}" />
                    </td></tr><tr><td>
                        Initial Cut Length</td><td><input type="number" id="initialCutLength" name="initialCutLength" th:value="${initialCutLength}" />
                    </td></tr><tr><td>
                        Wing Length</td><td><input type="number" id="wingLength" name="wingLength" th:value="${wingLength}" />
                    </td></tr><tr><td>
                        Root Chord</td><td><input type="number" id="rootChord" name="rootChord" th:value="${rootChord}" />
                    </td></tr><tr><td> 
                        Tip Chord</td><td><input type="number" id="tipChord" name="tipChord" th:value="${tipChord}" />
                    </td></tr><tr><td> 
                        Diagram Scale</td><td><input type="number" id="diagramScale" name="diagramScale" th:value="${diagramScale}" />
                    </td></tr><tr><td>
                        Cutting Speed</td><td><input type="number" id="cuttingSpeed" name="cuttingSpeed" th:value="${cuttingSpeed}" />
                    </td></tr><tr><td>
                        Heater %</td><td><input type="number" id="heaterPercent" name="heaterPercent" th:value="${heaterPercent}" />
                        <button type="submit">Update</button>
                    </td></tr>
            </table>
        </form>
        <br/>
        <svg th:attr="viewBox=${svgbounds}, style='width: ' + ${diagramScale} + '%'">
            <polyline th:attr="points=${machineSvgPoints}" style="fill:none;stroke:grey;stroke-width:1" />
            <polyline th:attr="points=${rootAerofoilData}" style="fill:none;stroke:black;stroke-width:1" />
            <polyline th:attr="points=${tipAerofoilData}" style="fill:none;stroke:black;stroke-width:1" />
            <!--<rect th:attr="x=${aerofoilbounds.getMinX()}, y=${aerofoilbounds.getMinY()}, width=${aerofoilbounds.getMaxX()}, height=${aerofoilbounds.getMaxY()}" style="fill:blue;stroke:pink;stroke-width:5;fill-opacity:0.1;stroke-opacity:0.9" />-->
            <polyline th:attr="points=${gcodeXY}" stroke-dasharray="20,10,5,5,5,10" style="fill:none;stroke:blue;stroke-width:2">
                <animate attributeName="stroke-dashoffset" from="55" to="0" begin="1s" dur="2s" repeatCount="indefinite" />
            </polyline>
            <polyline th:attr="points=${gcodeZE}, transform=${transformZE}" stroke-dasharray="20,10,5,5,5,10" style="fill:none;stroke:blue;stroke-width:2">
                <animate attributeName="stroke-dashoffset" from="55" to="0" begin="1s" dur="2s" repeatCount="indefinite" />
            </polyline>
        </svg>
        <br/>
        <textarea  rows="100" cols="100" th:text="${gcode}"></textarea>
    </body>
</html>
