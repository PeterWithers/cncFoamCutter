<!DOCTYPE html>
<!--
Copyright (C) 2017 Peter Withers
-->

<!--
 * @since Dec 25, 2017 19:45 PM (creation date)
 * @author <peter-gthb@bambooradical.com>
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Laser Test GCODE</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <style th:include="WingDesignView :: stylesection"></style>        
    </head> 
    <body>
        <div th:fragment="propEditor">
            <div id="editorForm">
                <form method="POST" action="#" th:action="@{/updatePropSettings}">    
                    Prop Diameter<input type="number" id="propDiameter" name="propDiameter" th:value="${propDiameter}" />
                    Prop Thickness<input type="number" id="propThickness" name="propThickness" th:value="${propThickness}" />
                    Blade Count<input type="number" id="bladeCount" name="bladeCount" th:value="${bladeCount}" />
                    Shaft Diameter<input type="number" step="0.01" id="shaftDiameter" name="shaftDiameter" th:value="${shaftDiameter}" />
                    Layer Height<input type="number" step="0.01" id="layerHeight" name="layerHeight" th:value="${shaftDiameter}" />
                    <button type="submit" id="saveButton" >Update</button>
                </form>
            </div>
            <svg id="editSvgPanel" viewBox="-25 -50 150 150">
                <g id="grid">
                    <line th:each="yRow : ${#numbers.sequence( -50, 50)}" x1="0" th:attr="y1=${yRow}, y2=${yRow}" x2="100" style="stroke:rgba(50,50,50, 150);stroke-width:0.1" />
                    <line th:each="yRow : ${#numbers.sequence( -5, 5)}" x1="-5" th:attr="y1=${yRow*10}, y2=${yRow*10}" x2="105" style="stroke:rgba(100,100,100, 150);stroke-width:0.1" />
                    <line th:each="xRow : ${#numbers.sequence( 0, 100)}" y1="-50" th:attr="x1=${xRow}, x2=${xRow}" y2="50" style="stroke:rgba(50,50,50, 150);stroke-width:0.1" />
                    <line th:each="xRow : ${#numbers.sequence( 0, 10)}" y1="-55" th:attr="x1=${xRow*10}, x2=${xRow*10}" y2="55" style="stroke:rgba(100,100,100, 150);stroke-width:0.1" />
                </g>
                <!--<path class="aerofoilEditLines" id="extrusionPath" th:attr="d=${laserTestGcodeData.getSvgPoints()}"/>-->
                <g transform="translate(20, -30)">
                    <path th:each="pathString, iterator : ${laserTestGcodeData.getSvgPoints()}" th:class="${laserTestGcodeData.getSvgPointsClass(iterator.index, iterator.size)}" th:attr="d=${pathString}">
                        <animate th:if="${iterator.index} eq 0" attributeName="stroke-dashoffset" from="1000" to="0" begin="1s" dur="2s" repeatCount="indefinite" />
                    </path>
                </g>
            </svg>            
        </div>
    </body>
</html>
